## API Report File for "@hass-blocks/blocks"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { CallServiceCommand } from 'homeassistant-typescript';
import { Event as Event_2 } from 'homeassistant-typescript';
import { HassConfig } from 'homeassistant-typescript';
import { Server } from 'http';
import { State } from 'homeassistant-typescript';

// @public
export const action: <I = void, O = void>(config: ActionArgs<I, O>) => Block<I, O>;

// @public
export interface ActionArgs<I = void, O = void> extends BaseBlockConfig {
    callback: ((client: ILegoClient, input: I) => O) | ((client: ILegoClient, input: I) => Promise<O>);
}

// @public
export const assertion: <I = void, O = void>(config: AssertionConfig<I, O>) => Block<I, O>;

// @public
export const automation: <const A extends readonly any[], I = GetSequenceInput<A>, O = GetSequenceOutput<A>>(config: {
    name: string;
    id?: string;
    actions: BlockRetainType<A> & A & ValidInputOutputSequence<I, O, A>;
    trigger?: ITrigger | ITrigger[];
    mode?: ExecutionMode;
}) => Block<I, O>;

// @public
export interface BaseBlockConfig {
    readonly id?: string;
    readonly name: string;
}

// @public (undocumented)
export interface CallServiceParams {
    // (undocumented)
    data?: Record<string, unknown>;
    // (undocumented)
    domain: string;
    // (undocumented)
    service: string;
    // (undocumented)
    target?: {
        entity_id?: string | string[];
        area_id?: string | string[];
        device_id?: string | string[];
    };
}

// @public (undocumented)
export const concurrently: <A extends readonly Block<unknown, unknown>[], I = void, O = void>(actions: A) => Block<I, O>;

// @public (undocumented)
export interface ConnectionArgs {
    // (undocumented)
    corsOptions: CorsOptions;
}

// @public (undocumented)
export interface CorsOptions {
    // (undocumented)
    methods: string[];
    // (undocumented)
    origin: string;
}

// @public
export const getConnection: (args?: ConnectionArgs) => Promise<LegoConnection>;

// @public (undocumented)
export type HassLegoEvent = AutomationRegistered | GeneralFailure | StateChanged | BlockFailed | BlockFinished | BlockPending | BlockStarted | SequenceAborted;

// @public (undocumented)
export interface IEventBus {
    // (undocumented)
    emit: (event: HassLegoEvent) => void;
    // (undocumented)
    subscribe: (callback: (event: HassLegoEvent & {
        id: string;
        timestamp: string;
    }) => void) => void;
}

// @public (undocumented)
export interface ILegoClient {
    // (undocumented)
    callService: (params: CallServiceParams) => Promise<State[]>;
    // (undocumented)
    getAutomations: () => IBlock<unknown, unknown>[];
    // (undocumented)
    getEntity: (id: string) => HassEntity;
    // (undocumented)
    getState: (id: string) => string;
    // (undocumented)
    loadStates: () => Promise<void>;
    // (undocumented)
    registerTrigger: (trigger: Record<string, unknown>, callback: (event: unknown) => void | Promise<void>) => Promise<void>;
}

// @public (undocumented)
export interface LegoConnection {
    // (undocumented)
    client: ILegoClient;
    // (undocumented)
    eventBus: IEventBus;
    // (undocumented)
    hassConfig: HassConfig;
    // (undocumented)
    socket: Server;
}

// @public (undocumented)
export const sequence: <const A extends readonly any[], I = GetSequenceInput<A>, O = GetSequenceOutput<A>>(actions: BlockRetainType<A> & A & ValidInputOutputSequence<I, O, A>, mode?: ExecutionMode) => Block<I, O>;

// @public (undocumented)
export const serviceCall: (serviceConfig: {
    name: string;
    params: Omit<CallServiceCommand, "id" | "type">;
}) => Block;

// @public (undocumented)
export const trigger: (name: string, id: string, trigger: Record<string, unknown>) => Trigger;

// @public (undocumented)
export const when: <TO = void, EO = void, PO = void, I = void>(config: IfThenElseConditionConfig<TO, EO, PO, I>) => Block<I, TO | EO>;

// (No @packageDocumentation comment for this package)

```
